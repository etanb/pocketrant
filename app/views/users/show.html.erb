

<div id="feeling-box">
  <form id="feeling-add">
    <textarea cols="5" rows="5">
    </textarea>
    <br />
    <input type="submit" />
  </form>
</div>

<div id="overall-sentiment"></div>

<div id="donuts">

  <div id="positive-keywords"></div>
  <div id="negative-keywords"></div>
</div>



<script>

  var overall_chart_info_test = [
    { y: '2006', a: 100, b: 90 },
    { y: '2007', a: 75,  b: 65 },
    { y: '2008', a: 50,  b: 40 },
    { y: '2009', a: 75,  b: 65 },
    { y: '2010', a: 50,  b: 40 },
    { y: '2011', a: 75,  b: 65 },
    { y: '2012', a: 100, b: 90 }
  ]

  // var overall_chart_info = []

  // for (var i=0;i<gon.messages.length;i++) { 
  //   overall_chart_info.push({y: gon.messages[i].created_at.toString().split("T").join(" ").split(".")[0], a: gon.messages[i].sentiment});
  // }

  Morris.Line({
    element: 'overall-sentiment',
    data: overall_chart_info_test,
    xkey: 'y',
    ykeys: ['a'],
    labels: ['Series A']
  });

  var negative_keywords_info_test = [
    {label: "Download Sales", value: 12},
    {label: "In-Store Sales", value: 300},
    {label: "Mail-Order Sales", value: 20}
  ]
  var positive_keywords_info_test = [
    {label: "Download Sales", value: 12},
    {label: "In-Store Sales", value: 300},
    {label: "Mail-Order Sales", value: 20}
  ]

  // var negative_keywords_info = []
  // var positive_keywords_info = []
  
  // for (var i=0;i<gon.keywords.length;i++) {
  //   if(gon.keywords[i].split(" ")[gon.keywords[i].split(" ").length - 1] != "ERROR"){
  //     if(gon.keywords[i].split(" ")[gon.keywords[i].split(" ").length - 1] < 0){
  //       var whole_keyword = gon.keywords[i].split(" ")
  //       whole_keyword.pop()
  //       negative_keywords_info.push({label: whole_keyword.join(" "), value: gon.keywords[i].split(" ")[gon.keywords[i].split(" ").length - 1]})
  //     }
  //     else if(gon.keywords[i].split(" ")[gon.keywords[i].split(" ").length - 1] > 0){
  //       var whole_keyword = gon.keywords[i].split(" ")
  //       whole_keyword.pop()
  //       positive_keywords_info.push({label: whole_keyword.join(" "), value: gon.keywords[i].split(" ")[gon.keywords[i].split(" ").length - 1]})
  //     }

  //   }
  // }

  Morris.Donut({
    element: 'negative-keywords',
    data: negative_keywords_info_test,
    colors: ['#FF0000']
  });

  Morris.Donut({
    element: 'positive-keywords',
    data: positive_keywords_info_test,
    colors: ['#0000FF']
  });

  
</script>